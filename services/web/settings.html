<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Settings</title>
</head>
<body>
  <h1>Settings</h1>

  <label>Auth Base URL</label><br/>
  <input id="authBase" size="50" /><br/><br/>

  <label>Catalog API Base URL</label><br/>
  <input id="apiBase" size="50" /><br/><br/>

  <label>File Base URL</label><br/>
  <input id="fileBase" size="50" /><br/><br/>

  <button id="saveBtn">Save</button>
  <p id="msg"></p>

  <p><a href="/index.html">Back to Videos</a></p>

<script>
  const defaults = {
    authBase: "http://localhost:4000",
    apiBase: "http://localhost:5001",
    fileBase: "http://localhost:5002"
  };

  function getSetting(key) {
    return localStorage.getItem(key) || defaults[key];
  }

  function setSetting(key, val) {
    localStorage.setItem(key, val);
  }

  document.getElementById("authBase").value = getSetting("authBase");
  document.getElementById("apiBase").value = getSetting("apiBase");
  document.getElementById("fileBase").value = getSetting("fileBase");

  document.getElementById("saveBtn").onclick = () => {
    setSetting("authBase", document.getElementById("authBase").value.trim());
    setSetting("apiBase", document.getElementById("apiBase").value.trim());
    setSetting("fileBase", document.getElementById("fileBase").value.trim());
    document.getElementById("msg").textContent = "Saved!";
  };
</script>
</body>
</html>

